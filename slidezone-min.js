(function(b){var a={init:function(c,g){clearTimeout(g.timer);g.slides=c.children();g.active=g.slides.length-1;g.start(g.slides);var f=b('<div class="slidezone-nav">').appendTo(c);var d=b('<div class="slidezone-index">').appendTo(f);b('<a class="slidezone-prev">').click(function(){a.prev(c,g)}).appendTo(d);for(var e=0;e<=g.active;e++){b('<a class="index'+e+'" data-id="'+e+'">').click(function(){clearTimeout(g.timer);g.slideOut(c,b(g.slides[g.active]));g.active=b(this).data("id");g.slideIn(c,b(g.slides[g.active]));c.find(".active").removeClass("active");c.find(".index"+g.active).addClass("active");g.timer=setTimeout(function(){a.next(c,g)},g.delay)}).appendTo(d)}g.active=0;b('<a class="slidezone-next">').click(function(){a.next(c,g)}).appendTo(d);b(document).keydown(function(h){if(h.keyCode==37){a.prev(c,g)}else{if(h.keyCode==39){a.next(c,g)}}});g.slideIn(c,b(g.slides[g.active]));c.find(".active").removeClass("active");c.find(".index"+g.active).addClass("active");g.timer=setTimeout(function(){a.next(c,g)},g.delay);return false},next:function(d,e,f){clearTimeout(e.timer);e.slideOut(d,b(e.slides[e.active]),f);e.active=(e.active+1)%e.slides.length;e.slideIn(d,b(e.slides[e.active]),f);d.find(".active").removeClass("active");d.find(".index"+e.active).addClass("active");e.timer=setTimeout(function(){a.next(d,e)},e.delay)},prev:function(d,e,f){clearTimeout(e.timer);e.slideOut(d,b(e.slides[e.active]),f);e.active=((e.active-1)<0?e.slides.length+(e.active-1):(e.active-1))%e.slides.length;e.slideIn(d,b(e.slides[e.active]),f);d.find(".active").removeClass("active");d.find(".index"+e.active).addClass("active");e.timer=setTimeout(function(){a.next(d,e)},e.delay)},start:function(c){c.css({opacity:"0"})},slideIn:function(c,d){d.animate({opacity:"1"},600)},slideOut:function(c,d){d.animate({opacity:"0"},1200)}};b.fn.slidezone=function(c){c=b.extend({delay:3000,start:a.start,slideIn:a.slideIn,slideOut:a.slideOut,slides:[],timer:null,active:0},c);return a.init(b(this),c)}})(jQuery);